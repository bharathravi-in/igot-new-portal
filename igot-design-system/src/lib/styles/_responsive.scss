// ─────────────────────────────────────────────────────────
// Responsive Utilities — igot-design-system
// ─────────────────────────────────────────────────────────
// Utility classes for responsive visibility, layout zones,
// and adaptations. Works alongside Tailwind.
//
// Sourced from igot_design_data_knowledge Screen_Size breakpoints.
// ─────────────────────────────────────────────────────────

@use './breakpoints' as bp;

// ── Responsive Visibility ─────────────────────────────────
// Show/hide elements based on layout zones

.hide-on-mobile {
  @include bp.layout-mobile {
    display: none !important;
  }
}

.hide-on-tablet-portrait {
  @include bp.layout-tablet-portrait {
    display: none !important;
  }
}

.hide-on-tablet-landscape {
  @include bp.layout-tablet-landscape {
    display: none !important;
  }
}

.hide-on-small-desktop {
  @include bp.layout-small-desktop {
    display: none !important;
  }
}

.hide-on-large-desktop {
  @include bp.layout-large-desktop {
    display: none !important;
  }
}

.show-on-mobile {
  display: none !important;
  @include bp.layout-mobile {
    display: block !important;
  }
}

.show-on-tablet-portrait {
  display: none !important;
  @include bp.layout-tablet-portrait {
    display: block !important;
  }
}

.show-on-small-desktop {
  display: none !important;
  @include bp.layout-small-desktop {
    display: block !important;
  }
}

.show-on-large-desktop {
  display: none !important;
  @include bp.layout-large-desktop {
    display: block !important;
  }
}

// ── Responsive Container ──────────────────────────────────
// Fluid container that respects design system breakpoints
.container-responsive {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--space-4);
  padding-right: var(--space-4);

  @include bp.breakpoint-up('min-mobile') {
    max-width: var(--container-sm);  // 426px
  }

  @include bp.breakpoint-up('tablet-portrait') {
    max-width: var(--container-md);  // 640px
    padding-left: var(--space-6);
    padding-right: var(--space-6);
  }

  @include bp.breakpoint-up('tablet-landscape') {
    max-width: var(--container-md);  // 640px
  }

  @include bp.breakpoint-up('small-desktop') {
    max-width: var(--container-lg);  // 1024px
  }

  @include bp.breakpoint-up('large-desktop') {
    max-width: var(--container-xl);  // 1440px
    padding-left: var(--space-8);
    padding-right: var(--space-8);
  }

  @include bp.breakpoint-up('extra-large') {
    max-width: var(--container-max-width);  // 1920px
  }
}

// ── Responsive Text Sizing ────────────────────────────────
// Uses knowledge-based typography role sizing
.text-responsive-display {
  font-size: var(--text-30);    // 30px mobile → 48px desktop
  line-height: 1.25;
  font-weight: var(--font-bold);

  @include bp.breakpoint-up('large-desktop') {
    font-size: var(--text-48);
  }
}

.text-responsive-heading {
  font-size: var(--text-24);     // 24px mobile → 32px desktop
  line-height: 1.25;
  font-weight: var(--font-semibold);

  @include bp.breakpoint-up('large-desktop') {
    font-size: var(--text-32);
  }
}

.text-responsive-subheading {
  font-size: var(--text-16);     // 16px mobile → 18px desktop
  font-weight: var(--font-medium);

  @include bp.breakpoint-up('large-desktop') {
    font-size: var(--text-18);
  }
}

.text-responsive-body {
  font-size: var(--text-14);     // 14px body text

  @include bp.breakpoint-up('tablet-portrait') {
    font-size: var(--text-16);
  }
}

// ── WCAG Reflow Safeguards ────────────────────────────────
// At mobile width (320px), ensure content reflows properly
.layout-main {
  @media (max-width: 425px) {
    width: 100%;
    max-width: 100%;
    padding-left: var(--space-2);
    padding-right: var(--space-2);
  }
}

.layout-sidebar,
.layout-rail {
  @media (max-width: 425px) {
    display: none;
  }
}

// ── Reduced Motion ────────────────────────────────────────
@include bp.reduced-motion {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
